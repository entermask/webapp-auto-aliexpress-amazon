(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t){},156:function(e,t){e.exports="data:image/png;base64,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"},157:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=(a(83),a(2)),i=a.n(s),o=a(3),m=a(9),u=a(10),d=a(12),f=a(11),p=a(13),h=(a(85),"https://714ali.vivoo.vn"),g=function(){var e=Object(o.a)(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.next=3,fetch(h+"/api/login");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,t=!!n.login,e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark(function e(){var t,a,n,r,l=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"admin",a=h+"/api/user/"+t,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=h,v=a(18),N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).Login=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.username.current.blur(),a.password.current.blur(),e.next=5,fetch(b+"/api/login/"+a.username.current.value+"/"+a.password.current.value).then(function(e){return e.json()}).then(function(e){n=!!e.login});case 5:n?a.setState({notice:r.a.createElement(v.a,{to:"/dashboard"})}):a.setState({notice:r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Sai t\xean t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u ! ")});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.username=r.a.createRef(),a.password=r.a.createRef(),a.state={notice:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:e.sent&&this.setState({notice:r.a.createElement(v.a,{to:"/dashboard"})});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"flexLogin"},r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.Login},r.a.createElement("h2",{className:"mb-4 text-center"},"# Project 714"),this.state.notice||this.state.notice,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("i",{className:"fal fa-user fa-fw"})," T\xean \u0111\u0103ng nh\u1eadp"),r.a.createElement("input",{required:!0,ref:this.username,type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,r.a.createElement("i",{className:"fal fa-lock fa-fw"})," M\u1eadt kh\u1ea9u"),r.a.createElement("input",{required:!0,ref:this.password,type:"password",className:"form-control"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-danger mx-0"},"\u0110\u0103ng Nh\u1eadp"))))))}}]),t}(r.a.Component),y=a(15),w=(a(90),a(24)),x=a.n(w),k=a(44),S=a(40),A=a.n(S),T=a(5),D=a(41),O=a.n(D),I=(a(136),a(27)),j=a.n(I);var C=Object(k.a)({analytics:function(e,t){return!0},currentMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dashboard",t=arguments.length>1?arguments[1]:void 0;return"updateTke"!==t.type&&(e=t.type),e}}),z=Object(k.b)(C),P=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){z.dispatch({type:"autopost"})}},{key:"render",value:function(){return r.a.createElement("div",null,"Coming Soon !")}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).getAnalytics=Object(o.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/fetch/analytics");case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:(n=e.sent)&&a.setState({dataDay:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])})),a.state={dataDay:[],loading:!0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){z.dispatch({type:"analytics"})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t,a=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAnalytics();case 2:(t=x()(b)).on("analytics",Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAnalytics();case 2:t.disconnect(0);case 3:case"end":return e.stop()}},e)})));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=new Date,t=new Date(e-864e5),a=new Date(e-1728e5),n="0",l="0",c="0",s="0";return t.getDate()>9?n=t.getDate():n+=t.getDate(),a.getDate()>9?c=a.getDate():c+=a.getDate(),t.getMonth()>8?l=t.getMonth()+1:l+=t.getMonth()+1,a.getMonth()>8?s=a.getMonth()+1:s+=a.getMonth()+1,r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Account"),r.a.createElement("th",{scope:"col"},"ASIN"),r.a.createElement("th",{scope:"col"},"Ng\u01b0\u1eddi Xem"),r.a.createElement("th",{scope:"col"},"L\u01b0\u1ee3t Xem"),r.a.createElement("th",{scope:"col"},"L\u01b0\u1ee3t Mua"),r.a.createElement("th",{scope:"col"},"Doanh Thu"),r.a.createElement("th",{scope:"col"},"Gi\xe1 Ngu\u1ed3n"),r.a.createElement("th",{scope:"col"},"Time"),r.a.createElement("th",{scope:"col"},"Profit"))),r.a.createElement("tbody",null,this.state.dataDay.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.account),r.a.createElement("td",null,e.asin),r.a.createElement("td",null,e.watch),r.a.createElement("td",null,e.views),r.a.createElement("td",null,e.luot_mua),r.a.createElement("td",null,"USD $",e.doanh_thu),r.a.createElement("td",null,"USD $",e.gia_nguon),r.a.createElement("td",null,e.time),r.a.createElement("td",null,Math.round((e.doanh_thu/e.luot_mua*85/100-e.gia_nguon)/e.gia_nguon*1e4)/100>=100?r.a.createElement("span",{className:"color_green"},Math.round((e.doanh_thu/e.luot_mua*85/100-e.gia_nguon)/e.gia_nguon*1e4)/100,"%"):r.a.createElement("span",{className:"color_red"},Math.round((e.doanh_thu/e.luot_mua*85/100-e.gia_nguon)/e.gia_nguon*1e4)/100,"%")))}))),r.a.createElement("a",{href:'javascript:PopupCenter("https://sellercentral.amazon.com/gp/site-metrics/report.html#&cols=/c0/c1/c2/c3/c4/c5/c6/c7/c8/c9/c10/c11/c12&sortColumn=13&filterFromDate='+s+"/"+c+"/"+a.getFullYear()+"&filterToDate="+l+"/"+n+"/"+t.getFullYear()+"&fromDate="+s+"/"+c+"/"+a.getFullYear()+"&toDate="+l+"/"+n+"/"+t.getFullYear()+'&reportID=102:DetailSalesTrafficBySKU&sortIsAscending=0&currentPage=0&dateUnit=1&viewDateUnits=ALL&runDate=", "Update Time", 400, 400)',className:"btn btn-secondary mx-0"},r.a.createElement("i",{className:"fal fa-sync fa-fw"})," \u0110\u1ed3ng B\u1ed9 Ng\xe0y ",l+" / "+n+" / "+t.getFullYear()),r.a.createElement("div",{className:"mt-4"},"H\xe3y login v\xe0o account amazon c\u1ea7n \u0111\u1ed3ng b\u1ed9",r.a.createElement("br",null),"H\xe3y ch\u1eafc ch\u1eafn b\u1ea1n \u0111\xe3 c\xe0i Aliv Extension"))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).getProductList=Object(o.a)(i.a.mark(function e(){var t,n,r,l,c,s,o,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/fetch/product");case 2:return t=e.sent,e.next=5,t.json();case 5:for(n=e.sent,r=0,l=!0,c=!1,s=void 0,e.prev=10,o=n[Symbol.iterator]();!(l=(m=o.next()).done);l=!0)m.value.posted||r++;e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),c=!0,s=e.t0;case 18:e.prev=18,e.prev=19,l||null==o.return||o.return();case 21:if(e.prev=21,!c){e.next=24;break}throw s;case 24:return e.finish(21);case 25:return e.finish(18);case 26:a.setState({getProductList:n,demAmazon:r}),a.state.auto&&setTimeout(function(){document.querySelector('a[title="Post l\xean Amazon"]')&&document.querySelector('a[title="Post l\xean Amazon"]').click()},200);case 28:case"end":return e.stop()}},e,null,[[10,14,18,26],[19,,21,25]])})),a.receiveUploaded=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=x()(b),console.log("call me"),t.on("uploadedProduct",function(e){a.getProductList(),T.b.success("\u0110\xe3 upload !"),t.disconnect(0)});case 3:case"end":return e.stop()}},e)})),a.updateTime=function(){a.setState({activeId:null});var e=x()(b);e.on("product",function(t){a.getProductList(),a.setState({activeId:t.id}),T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Get Gi\xe1 Ngu\u1ed3n th\xe0nh c\xf4ng !")),e.disconnect(0)})},a.handleEdit=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.asinEdit.current.blur(),a.aliexpressEdit.current.blur(),a.giaMinEdit.current.blur(),a.giaBBEdit.current.blur(),a.giaListEdit.current.blur(),a.giaNguonEdit.current.blur(),e.next=9,fetch(b+"/api/update/product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({asin:a.asinEdit.current.value,aliexpress:a.aliexpressEdit.current.value,giaNguon:a.giaNguonEdit.current.value,giaMin:a.giaMinEdit.current.value,giaBB:a.giaBBEdit.current.value,giaList:a.giaListEdit.current.value,id:a.idEdit.current.value})});case 9:return n=e.sent,e.next=12,n.json();case 12:e.sent.error?(T.b.error(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times-circle fa-fw"})," ASIN b\u1ecb tr\xf9ng !")),a.setState({notice:r.a.createElement("div",{className:"alert alert-danger"},"ASIN b\u1ecb tr\xf9ng !")})):(a.setState({notice:r.a.createElement("div",{className:"alert alert-success"},"S\u1eeda th\xe0nh c\xf4ng !"),activeId:a.idEdit.current.value}),""===a.asinEdit.current.value?(T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," X\xf3a th\xe0nh c\xf4ng !")),document.querySelector("#editProduct .close").click(),z.dispatch({type:"updateTke"})):T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," S\u1eeda th\xe0nh c\xf4ng !")),a.getProductList());case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addNew=function(){var e=Object(o.a)(i.a.mark(function e(t){var n,l,c,s,o,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.asin.current.blur(),a.aliexpress.current.blur(),a.giaMin.current.blur(),a.giaBB.current.blur(),a.giaList.current.blur(),a.giaNguon.current.blur(),e.next=9,fetch(b+"/api/insert/product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({asin:a.asin.current.value,aliexpress:a.aliexpress.current.value,giaNguon:a.giaNguon.current.value,giaMin:a.giaMin.current.value,giaBB:a.giaBB.current.value,giaList:a.giaList.current.value})});case 9:return n=e.sent,e.next=12,n.json();case 12:if(!e.sent.error){e.next=18;break}T.b.error(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times-circle fa-fw"})," ASIN b\u1ecb tr\xf9ng !")),a.setState({notice:r.a.createElement("div",{className:"alert alert-danger"},"ASIN b\u1ecb tr\xf9ng !")}),e.next=41;break;case 18:for(z.dispatch({type:"updateTke"}),T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Th\xeam th\xe0nh c\xf4ng !")),a.setState({notice:r.a.createElement("div",{className:"alert alert-success"},"Th\xeam th\xe0nh c\xf4ng !")}),a.getProductList(),l=!0,c=!1,s=void 0,e.prev=25,o=document.querySelectorAll("#addnew input")[Symbol.iterator]();!(l=(m=o.next()).done);l=!0)m.value.value="";e.next=33;break;case 29:e.prev=29,e.t0=e.catch(25),c=!0,s=e.t0;case 33:e.prev=33,e.prev=34,l||null==o.return||o.return();case 36:if(e.prev=36,!c){e.next=39;break}throw s;case 39:return e.finish(36);case 40:return e.finish(33);case 41:case"end":return e.stop()}},e,null,[[25,29,33,41],[34,,36,40]])}));return function(t){return e.apply(this,arguments)}}(),a.chooseFile=function(e){a.setState({uploadDisabled:!1,file:e.target.files[0],status:"s\u1eb5n s\xe0ng \u0111\u1ec3 upload"}),console.log(e.target.files[0])},a.uploadFile=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("excel",a.state.file),a.setState({uploadDisabled:!0,status:"\u0111ang upload (reload \u0111\u1ec3 cancel)"}),e.next=6,A.a.post(b+"/api/upload/product",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.setState({uploadPercent:parseInt(Math.round(100*e.loaded/e.total))})}});case 6:e.sent,T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Upload File th\xe0nh c\xf4ng !")),a.setState({uploadDisabled:!1,status:r.a.createElement("font",{color:"green"},"upload th\xe0nh c\xf4ng !")}),document.querySelector("input[type=file]").value="",a.getProductList();case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={getProductList:[],notice:null,activeId:null,sortdown:!1,auto:!1,demAmazon:0,file:null,uploadDisabled:!0,uploadPercent:0,status:"ch\u1ecdn file excel \u0111\u1ec3 upload (t\u1ef1 \u0111\u1ed9ng l\u1ecdc tr\xf9ng ASIN)"},a.asin=r.a.createRef(),a.aliexpress=r.a.createRef(),a.giaMin=r.a.createRef(),a.giaBB=r.a.createRef(),a.giaList=r.a.createRef(),a.giaNguon=r.a.createRef(),a.asinEdit=r.a.createRef(),a.aliexpressEdit=r.a.createRef(),a.giaMinEdit=r.a.createRef(),a.giaBBEdit=r.a.createRef(),a.giaListEdit=r.a.createRef(),a.giaNguonEdit=r.a.createRef(),a.idEdit=r.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){z.dispatch({type:"product"})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProductList();case 2:console.log("call mount");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{name:"Account",selector:"account",sortable:!0,grow:.5},{name:"Uploaded ASIN",selector:"posted",sortable:!0,format:function(e){return r.a.createElement("span",null,e.asin,r.a.createElement("br",null)," ",e.posted?r.a.createElement("span",{className:"color_green"},"\u0110\xe3 Upload"):r.a.createElement("span",{className:"color_red"},"Ch\u1edd Upload"))}},{name:"Gi\xe1 Ngu\u1ed3n",selector:"gia_nguon",format:function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"color_green"},"USD $",e.gia_nguon),r.a.createElement("div",{className:"shipment"},e.ship),r.a.createElement("div",null,new Date(e.time+252e5).toUTCString()))},grow:1.5},{name:"Gi\xe1 Min",selector:"gia_min",format:function(e){return r.a.createElement("span",null,e.gia_min," $")},grow:.5},{name:"Gi\xe1 BB",selector:"gia_bb",format:function(e){return r.a.createElement("span",null,e.gia_bb," $")},grow:.5},{name:"Gi\xe1 List",selector:"gia_list",format:function(e){return r.a.createElement("span",null,e.gia_list," $")},grow:.5},{name:"Ng\xe0y T\u1ea1o",selector:"created_at",sortable:!0,grow:.5,format:function(e){return new Date(e.created_at+252e5).getDate()+"/"+(new Date(e.created_at+252e5).getMonth()+1)+"/"+new Date(e.created_at+252e5).getFullYear()}},{selector:"tool",right:!0,grow:2,format:function(t){return r.a.createElement("div",null,!t.posted&&r.a.createElement("a",{onClick:e.receiveUploaded,title:"Post l\xean Amazon",href:'javascript:PopupCenter("https://sellercentral.amazon.com/abis/listing/syh?asin='+t.asin+"&ref_=xx_catadd_dnav_xx&dev.vivoo.vn-"+t.id+","+t.gia_list+'", "Update Time", 400, 400)',className:"text-white btn-floating bg-warning btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fab fa-amazon fa-fw"})),r.a.createElement("a",{href:t.link,target:"_blank",real:"noopener noreferer",className:"text-white btn-floating btn-fb btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-external-link fa-fw"})),r.a.createElement("a",{href:'javascript:PopupCenter("'+t.link+"&dev.vivoo.vn-"+t.id+'", "Update Time", 400, 400)',onClick:e.updateTime,className:"text-white btn-floating btn-slack btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-sync fa-fw"})),r.a.createElement("a",{href:"#!","data-target":"#editProduct","data-toggle":"modal",onClick:function(){e.setState({notice:null}),document.querySelectorAll("#editProduct input")[0].value=t.asin,document.querySelectorAll("#editProduct input")[1].value=t.link,document.querySelectorAll("#editProduct input")[2].value=t.gia_nguon,document.querySelectorAll("#editProduct input")[3].value=t.gia_min,document.querySelectorAll("#editProduct input")[4].value=t.gia_bb,document.querySelectorAll("#editProduct input")[5].value=t.gia_list,document.querySelectorAll("#editProduct input")[6].value=t.id},className:"text-white btn-floating btn-li btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-edit fa-fw"})),r.a.createElement("a",{href:"#!","data-target":"#editProduct","data-toggle":"modal",onClick:function(){e.setState({notice:null}),document.querySelectorAll("#editProduct input")[0].value="",document.querySelectorAll("#editProduct input")[1].value=t.link,document.querySelectorAll("#editProduct input")[2].value=t.gia_nguon,document.querySelectorAll("#editProduct input")[3].value=t.gia_min,document.querySelectorAll("#editProduct input")[4].value=t.gia_bb,document.querySelectorAll("#editProduct input")[5].value=t.gia_list,document.querySelectorAll("#editProduct input")[6].value=t.id},className:"text-white btn-floating btn-yt btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-trash fa-fw"})))}}];return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-4 pl-3",style:{fontSize:"1.5rem"}},r.a.createElement("i",{onClick:function(){return e.setState({notice:null})},"data-target":"#addnew","data-toggle":"modal",className:"fal fa-plus-square mr-5 tool","data-tip":"Th\xeam b\u1ea3n ghi"}),r.a.createElement("i",{onClick:function(){return e.setState({notice:null})},"data-target":"#upload","data-toggle":"modal",className:"fal fa-file-excel mr-5 tool","data-tip":"\u0110\u1ed3ng b\u1ed9 Excel"}),r.a.createElement("i",{onClick:function(){return e.setState({notice:null})},"data-target":"#autoAmazon","data-toggle":"modal",className:"fab fa-amazon mr-5 tool","data-tip":"Auto Post Amazon"}),r.a.createElement("i",{className:"fal fa-question mr- 5","data-tip":!0,"data-for":"global"})),r.a.createElement("hr",null),r.a.createElement(j.a,{place:"bottom",type:"dark",effect:"solid"}),r.a.createElement(j.a,{id:"global","aria-haspopup":"true",role:"example"},"1. H\xe3y ch\u1eafc ch\u1eafn \u0111\xe3 c\xe0i Aliv Extension m\u1edbi nh\u1ea5t",r.a.createElement("br",null),"2. Di chu\u1ed9t v\xe0o t\xean b\u1ea3ng \u0111\u1ec3 hi\u1ec7n sort (Account, Ng\xe0y t\u1ea1o, Uploaded ASIN)"),r.a.createElement(T.a,{position:"top-center",newestOnTop:!0}),r.a.createElement("div",{className:"modal fade",id:"autoAmazon",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document",style:{color:"#333"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle",style:{color:"blue"}},"Auto Upload Amazon"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},this.state.demAmazon>0&&r.a.createElement("span",null,r.a.createElement("i",{className:this.state.auto?"fa fa-spin fa-spinner fa-pulse":"fal fa-clock fa-fw"})," H\xe0ng ch\u1edd c\xf2n l\u1ea1i:"),r.a.createElement("b",{style:{display:"block",fontSize:"3.5rem",color:"#33b5e5",textAlign:"center",fontWeight:800}},this.state.demAmazon),r.a.createElement("center",null,this.state.demAmazon>0&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-clock fa-fw"})," \u01af\u1edbc t\xednh: ",r.a.createElement("b",null,7*this.state.demAmazon," gi\xe2y")),this.state.auto?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.setState({auto:!1})}}," T\u1eaeT AUTO ")):r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({auto:!0}),document.querySelector('a[title="Post l\xean Amazon"]')&&document.querySelectorAll('a[title="Post l\xean Amazon"]')[0].click()}},"B\u1eacT AUTO ")))))))),r.a.createElement("div",{className:"modal fade bottom",id:"upload",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-frame modal-bottom modal-notify modal-success",role:"document",style:{color:"#333"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"container"},r.a.createElement("i",{className:"fal fa-star fa-fw"})," Tr\u1ea1ng th\xe1i: ",r.a.createElement("b",null,this.state.status),r.a.createElement("form",{onSubmit:this.uploadFile},0===this.state.uploadPercent||100===this.state.uploadPercent?r.a.createElement("input",{onChange:this.chooseFile,type:"file",accept:".xlsx",name:"exel",className:"form-control mt-2",style:{paddingTop:"3.5px"}}):r.a.createElement("div",{className:"progress md-progress mt-2",style:{height:".75rem"}},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:this.state.uploadPercent+"%",height:".75rem"}},this.state.uploadPercent,"%")),r.a.createElement("center",null,this.state.uploadDisabled?r.a.createElement("button",{disabled:!0,type:"submit",className:"btn btn-outline-success"},r.a.createElement("i",{className:"fal fa-cloud-upload fa-fw"})," UPLOAD"):r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},r.a.createElement("i",{className:"fal fa-cloud-upload fa-fw"})," UPLOAD"),r.a.createElement("button",{className:"btn btn-outline-danger","data-dismiss":"modal"},"\u0110\xd3NG")))))))),r.a.createElement("div",{className:"modal fade right",id:"addnew",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-primary",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center bg-primary"},r.a.createElement("h4",{className:"modal-title w-100 font-weight-bold"},"Th\xeam S\u1ea3n Ph\u1ea9m"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("form",{onSubmit:this.addNew},this.state.notice&&this.state.notice,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"ASIN"),r.a.createElement("input",{ref:this.asin,type:"text",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Aliexpress Link"),r.a.createElement("input",{ref:this.aliexpress,type:"url",className:"form-control",required:!0}),r.a.createElement("small",null,"B\u1ea1n c\u1ea7n nh\u1eadp \u0111\xfang Link s\u1ea3n ph\u1ea9m, n\u1ebfu nh\u1eadp sai s\u1ebd kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c Gi\xe1 Ngu\u1ed3n")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 Ngu\u1ed3n"),r.a.createElement("input",{ref:this.giaNguon,type:"number",step:"0.01",className:"form-control",required:!0,defaultValue:"0"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 Min"),r.a.createElement("input",{ref:this.giaMin,type:"number",step:"0.01",className:"form-control",required:!0,defaultValue:"0"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 BB"),r.a.createElement("input",{ref:this.giaBB,type:"number",step:"0.01",className:"form-control",required:!0,defaultValue:"0"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 List"),r.a.createElement("input",{ref:this.giaList,type:"number",step:"0.01",className:"form-control",required:!0,defaultValue:"0"})),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-submit btn-danger mt-4"},r.a.createElement("i",{className:"fal fa-plus-circle fa-fw"})," Th\xeam m\u1edbi"))))))),r.a.createElement("div",{className:"modal fade right",id:"editProduct",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-success",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center"},r.a.createElement("h4",{className:"modal-title w-100 font-weight-bold"},"S\u1eeda D\u1eef Li\u1ec7u"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("form",{onSubmit:this.handleEdit},this.state.notice&&this.state.notice,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"ASIN"),r.a.createElement("input",{ref:this.asinEdit,type:"text",className:"form-control"}),r.a.createElement("small",{className:"mt-3"},"B\u1ecf tr\u1ed1ng m\xe3 ASIN r\u1ed3i nh\u1ea5n ho\xe0n t\u1ea5t \u0111\u1ec3 x\xf3a s\u1ea3n ph\u1ea9m")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Aliexpress Link"),r.a.createElement("input",{ref:this.aliexpressEdit,type:"url",className:"form-control",required:!0}),r.a.createElement("small",null,"B\u1ea1n c\u1ea7n nh\u1eadp \u0111\xfang Link s\u1ea3n ph\u1ea9m, n\u1ebfu nh\u1eadp sai s\u1ebd kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c Gi\xe1 Ngu\u1ed3n")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 Ngu\u1ed3n"),r.a.createElement("input",{ref:this.giaNguonEdit,type:"number",step:"0.01",className:"form-control",required:!0}),"`"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 Min"),r.a.createElement("input",{ref:this.giaMinEdit,type:"number",step:"0.01",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 BB"),r.a.createElement("input",{ref:this.giaBBEdit,type:"number",step:"0.01",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Gi\xe1 List"),r.a.createElement("input",{ref:this.giaListEdit,type:"number",step:"0.01",className:"form-control",required:!0})),r.a.createElement("input",{ref:this.idEdit,type:"hidden",required:!0}),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-submit btn-danger mt-4"},r.a.createElement("i",{className:"fal fa-plus-circle fa-fw"})," Ho\xe0n t\u1ea5t"))))))),r.a.createElement(O.a,{columns:t,data:this.state.getProductList,striped:!0,highlightOnHover:!0,customTheme:{rows:{height:"64px",fontSize:".8rem"},title:{height:"0px"}}}))}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).addNew=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({exist:!1}),a.amazon.current.blur(),a.aliexpress.current.blur(),e.next=6,fetch(b+"/api/insert/tracking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amazon:a.amazon.current.value,aliexpress:a.aliexpress.current.value,amazonAccount:a.amazonAccount.current.value,tenKH:a.tenKH.current.value,address:a.address.current.value})});case 6:return n=e.sent,e.next=9,n.json();case 9:e.sent.oke?(T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Th\xeam Tracking th\xe0nh c\xf4ng !")),z.dispatch({type:"updateTke"}),a.amazon.current.value="",a.aliexpress.current.value="",a.amazonAccount.current.value="",a.tenKH.current.value="",a.address.current.value="",a.getTrackingList()):(T.b.error(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times-circle fa-fw"})," Tracking b\u1ecb tr\xf9ng !")),a.setState({exist:!0}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleEdit=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({exist:!1}),a.amazon.current.blur(),a.aliexpress.current.blur(),e.next=6,fetch(b+"/api/update/tracking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.state.editId,amazon:a.amazonEdit.current.value,aliexpress:a.aliexpressEdit.current.value,amazonAccount:a.amazonAccountEdit.current.value,tenKH:a.tenKHEdit.current.value,address:a.addressEdit.current.value})});case 6:return n=e.sent,e.next=9,n.json();case 9:e.sent.oke?(a.amazonEdit||a.aliexpressEdit?T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," X\xf3a Tracking th\xe0nh c\xf4ng !")):T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," S\u1eeda Tracking th\xe0nh c\xf4ng !")),z.dispatch({type:"updateTke"}),document.querySelector("#editProduct .close").click(),a.getTrackingList()):(T.b.error(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-times-circle fa-fw"})," Tracking b\u1ecb tr\xf9ng !")),a.setState({exist:!0}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getTrackingList=Object(o.a)(i.a.mark(function e(){var t,n,r,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/fetch/tracking");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=0,l=0,n.map(function(e){e.tracking?e.reconfirm||l++:r++}),a.setState({getTrackingList:n,demAli:r,demAmazon:l}),"amazon"===a.state.auto&&setTimeout(function(){document.querySelector('a[title="Reconfirm Tracking"]')&&document.querySelector('a[title="Reconfirm Tracking"]').click()},200),"aliexpress"===a.state.auto&&setTimeout(function(){document.querySelector('a[title="Get Tracking"]')&&document.querySelector('a[title="Get Tracking"]').click()},200),console.log(n);case 12:case"end":return e.stop()}},e)})),a.getTracking=function(){a.setState({currentID:null});var e=x()(b);e.on("tracking",function(t){T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Get Tracking th\xe0nh c\xf4ng !")),a.getTrackingList(),e.disconnect(0)})},a.reconfirmTracking=function(){var e=x()(b);e.on("reconfirmTracking",function(t){T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Reconfirm Tracking th\xe0nh c\xf4ng !")),a.getTrackingList(),e.disconnect(0)})},a.chooseFile=function(e){a.setState({uploadDisabled:!1,file:e.target.files[0],status:"s\u1eb5n s\xe0ng \u0111\u1ec3 upload"}),console.log(e.target.files[0])},a.uploadFile=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("excel",a.state.file),a.setState({uploadDisabled:!0,status:"\u0111ang upload (reload \u0111\u1ec3 cancel)"}),e.next=6,A.a.post(b+"/api/upload/tracking",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){a.setState({uploadPercent:parseInt(Math.round(100*e.loaded/e.total))})}});case 6:e.sent,T.b.success(r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-check-circle fa-fw"})," Upload File th\xe0nh c\xf4ng !")),a.setState({uploadDisabled:!1,status:r.a.createElement("font",{color:"green"},"upload th\xe0nh c\xf4ng !")}),document.querySelector("input[type=file]").value="",a.getTrackingList();case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={getTrackingList:[],exist:!1,editId:null,editAmz:null,editAli:null,currentID:null,demAli:null,demAmazon:null,auto:!1,file:null,uploadDisabled:!0,uploadPercent:0,status:"ch\u1ecdn file excel \u0111\u1ec3 upload"},a.amazon=r.a.createRef(),a.aliexpress=r.a.createRef(),a.amazonAccount=r.a.createRef(),a.tenKH=r.a.createRef(),a.address=r.a.createRef(),a.amazonAccountEdit=r.a.createRef(),a.addressEdit=r.a.createRef(),a.tenKHEdit=r.a.createRef(),a.amazonEdit=r.a.createRef(),a.aliexpressEdit=r.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){z.dispatch({type:"tracking"})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTrackingList();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{name:"Account",selector:"account",sortable:!0,format:function(e){return r.a.createElement("span",null,e.account,r.a.createElement("br",null)," ",r.a.createElement("small",null,"amz: ",e.amazon))}},{name:"Amazon Order ID",selector:"amz_orderId",format:function(e){return r.a.createElement("span",null,e.amz_orderId," ",r.a.createElement("a",{href:"https://sellercentral.amazon.com/orders-v3/order/"+e.amz_orderId,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fal fa-external-link"})))}},{name:"Aliexpress Order ID",selector:"ali_orderId",format:function(e){return r.a.createElement("span",null,e.ali_orderId," ",r.a.createElement("a",{href:"https://trade.aliexpress.com/order_detail.htm?orderId="+e.ali_orderId,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fal fa-external-link"})))}},{name:"Tracking Number",selector:"tracking",format:function(e){return r.a.createElement("span",null,e.tracking?r.a.createElement("span",{className:"color_green",style:{fontSize:"1rem"}},e.tracking):r.a.createElement("span",{className:"color_red"},"Ch\u01b0a c\xf3"),r.a.createElement("br",null),e.tracking_update?new Date(e.tracking_update+252e5).toUTCString():"Ch\u01b0a c\xf3")},sortable:!0,grow:1.5},{name:"Reconfirm",selector:"reconfirm",sortable:!0,format:function(e){return e.reconfirm?r.a.createElement("span",{className:"color_green"},"\u0110\xe3 confirm"):r.a.createElement("span",{className:"color_red"},"Ch\u1edd confirm")}},{name:"T\xean Kh\xe1ch H\xe0ng",selector:"name"},{name:"\u0110\u1ecba ch\u1ec9",selector:"address"},{selector:"tool",right:!0,format:function(t){return r.a.createElement("span",null,t.tracking?!t.reconfirm&&r.a.createElement("a",{title:"Reconfirm Tracking",href:'javascript:PopupCenter("https://sellercentral.amazon.com/orders-v3/order/'+t.amz_orderId+"/&dev.vivoo.vn-"+t.id+"-"+t.tracking+'", "Reconfirm Tracking", 400, 400)',onClick:e.reconfirmTracking,className:"text-white btn-floating btn-slack btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fab fa-amazon fa-fw"})):r.a.createElement("a",{title:"Get Tracking",href:'javascript:PopupCenter("https://trade.aliexpress.com/order_detail.htm?orderId='+t.ali_orderId+"&dev.vivoo.vn-"+t.id+'", "Get Tracking", 400, 400)',onClick:e.getTracking,className:"text-white btn-floating btn-slack btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-sync fa-fw"})),r.a.createElement("a",{title:"Ch\u1ec9nh s\u1eeda",href:"#!","data-target":"#editProduct","data-toggle":"modal",onClick:function(){e.setState({exist:!1,editId:t.id}),document.querySelectorAll("#editProduct input")[1].value=t.ali_orderId,document.querySelectorAll("#editProduct input")[0].value=t.amz_orderId,document.querySelectorAll("#editProduct input")[2].value=t.amazon,document.querySelectorAll("#editProduct input")[3].value=t.name,document.querySelectorAll("#editProduct textarea")[0].value=t.address},className:"text-white btn-floating btn-li btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-edit fa-fw"})),r.a.createElement("a",{title:"X\xf3a",href:"#!","data-target":"#editProduct","data-toggle":"modal",onClick:function(){e.setState({exist:!1,editId:t.id}),document.querySelectorAll("#editProduct input")[1].value="",document.querySelectorAll("#editProduct input")[0].value="",document.querySelectorAll("#editProduct input")[2].value=t.amazon,document.querySelectorAll("#editProduct input")[3].value=t.name,document.querySelectorAll("#editProduct textarea")[0].value=t.address},className:"text-white btn-floating btn-yt btn-sm cat1 waves-effect waves-light"},r.a.createElement("i",{className:"fal fa-trash fa-fw"})))}}];return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-4 pl-3",style:{fontSize:"1.5rem"}},r.a.createElement("i",{onClick:function(){return e.setState({notice:null})},"data-target":"#addnew","data-toggle":"modal",className:"fal fa-plus-square mr-5 tool","data-tip":"Th\xeam b\u1ea3n ghi"}),r.a.createElement("i",{onClick:function(){return e.setState({notice:null})},"data-target":"#upload","data-toggle":"modal",className:"fal fa-file-excel mr-5 tool","data-tip":"\u0110\u1ed3ng b\u1ed9 Excel"}),r.a.createElement("i",{"data-target":"#autoAli","data-toggle":"modal",className:"fal fa-shopping-cart mr-5 tool","data-tip":"Auto Get Tracking"}),r.a.createElement("i",{"data-target":"#autoAmazon","data-toggle":"modal",className:"fab fa-amazon mr-5 tool","data-tip":"Auto Confirm Tracking"}),r.a.createElement("i",{className:"fal fa-question mr-5","data-tip":!0,"data-for":"global"})),r.a.createElement("hr",null),r.a.createElement(j.a,{place:"bottom",type:"dark",effect:"solid"}),r.a.createElement(j.a,{id:"global","aria-haspopup":"true",role:"example"},"1. H\xe3y ch\u1eafc ch\u1eafn \u0111\xe3 c\xe0i Aliv Extension m\u1edbi nh\u1ea5t",r.a.createElement("br",null),"2. S\u1ebd xu\u1ea5t hi\u1ec7n n\xfat reconfirm khi \u0111\xe3 c\xf3 Tracking Number",r.a.createElement("br",null),"3. Di chu\u1ed9t v\xe0o t\xean b\u1ea3ng \u0111\u1ec3 hi\u1ec7n sort (Account, Tracking Number, Reconfirm)"),r.a.createElement(T.a,{position:"top-center",newestOnTop:!0}),r.a.createElement("div",{className:"modal fade",id:"autoAli",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document",style:{color:"#333"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle",style:{color:"red"}},"Aliexpress"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},this.state.demAli>0&&r.a.createElement("span",null,r.a.createElement("i",{className:"aliexpress"!==this.state.auto?"fal fa-clock fa-fw":"fa fa-spin fa-spinner fa-pulse"})," H\xe0ng ch\u1edd c\xf2n l\u1ea1i:"),r.a.createElement("b",{style:{display:"block",fontSize:"3.5rem",color:"#33b5e5",textAlign:"center",fontWeight:800}},this.state.demAli),r.a.createElement("center",null,this.state.demAli>0&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-clock fa-fw"})," \u01af\u1edbc t\xednh: ",r.a.createElement("b",null,2*this.state.demAli," gi\xe2y")),"aliexpress"!==this.state.auto?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({auto:"aliexpress"}),document.querySelector('a[title="Get Tracking"]')&&document.querySelectorAll('a[title="Get Tracking"]')[0].click()}},"B\u1eacT AUTO ")):r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.setState({auto:null})}}," T\u1eaeT AUTO ")))))))),r.a.createElement("div",{className:"modal fade",id:"autoAmazon",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document",style:{color:"#333"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle",style:{color:"blue"}},"Amazon"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},this.state.demAmazon>0&&r.a.createElement("span",null,r.a.createElement("i",{className:"amazon"!==this.state.auto?"fal fa-clock fa-fw":"fa fa-spin fa-spinner fa-pulse"})," H\xe0ng ch\u1edd c\xf2n l\u1ea1i:"),r.a.createElement("b",{style:{display:"block",fontSize:"3.5rem",color:"#33b5e5",textAlign:"center",fontWeight:800}},this.state.demAmazon),r.a.createElement("center",null,this.state.demAmazon>0&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-clock fa-fw"})," \u01af\u1edbc t\xednh: ",r.a.createElement("b",null,5*this.state.demAmazon," gi\xe2y")),"amazon"!==this.state.auto?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){e.setState({auto:"amazon"}),document.querySelector('a[title="Reconfirm Tracking"]')&&document.querySelectorAll('a[title="Reconfirm Tracking"]')[0].click()}},"B\u1eacT AUTO ")):r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.setState({auto:null})}}," T\u1eaeT AUTO ")))))))),r.a.createElement("div",{className:"modal fade bottom",id:"upload",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-frame modal-bottom modal-notify modal-success",role:"document",style:{color:"#333"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"container"},r.a.createElement("i",{className:"fal fa-star fa-fw"})," Tr\u1ea1ng th\xe1i: ",r.a.createElement("b",null,this.state.status),r.a.createElement("form",{onSubmit:this.uploadFile},0===this.state.uploadPercent||100===this.state.uploadPercent?r.a.createElement("input",{onChange:this.chooseFile,type:"file",accept:".xlsx",name:"exel",className:"form-control mt-2",style:{paddingTop:"3.5px"}}):r.a.createElement("div",{className:"progress md-progress mt-2",style:{height:".75rem"}},r.a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:this.state.uploadPercent+"%",height:".75rem"}},this.state.uploadPercent,"%")),r.a.createElement("center",null,this.state.uploadDisabled?r.a.createElement("button",{disabled:!0,type:"submit",className:"btn btn-outline-secondary"},r.a.createElement("i",{className:"fal fa-cloud-upload fa-fw"})," UPLOAD"):r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},r.a.createElement("i",{className:"fal fa-cloud-upload fa-fw"})," UPLOAD"),r.a.createElement("button",{className:"btn btn-outline-danger","data-dismiss":"modal"},"\u0110\xd3NG")))))))),r.a.createElement("div",{className:"modal fade right",id:"addnew",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-primary",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center bg-primary"},r.a.createElement("h4",{className:"modal-title w-100 font-weight-bold"},"Th\xeam D\u1eef Li\u1ec7u"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("form",{onSubmit:this.addNew},this.state.exist?r.a.createElement("div",{className:"alert alert-danger"}," D\u1eef li\u1ec7u \u0111\xe3 c\xf3 tr\xean h\u1ec7 th\u1ed1ng !"):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amazon Order ID (*)"),r.a.createElement("input",{ref:this.amazon,type:"text",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Aliexpress Order ID (*)"),r.a.createElement("input",{ref:this.aliexpress,type:"text",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amazon Account"),r.a.createElement("input",{ref:this.amazonAccount,type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean kh\xe1ch h\xe0ng"),r.a.createElement("input",{ref:this.tenKH,type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\u0110\u1ecba ch\u1ec9"),r.a.createElement("textarea",{ref:this.address,type:"text",className:"form-control"})),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-submit btn-danger mt-4"},r.a.createElement("i",{className:"fal fa-plus-circle fa-fw"})," Th\xeam m\u1edbi"))))))),r.a.createElement("div",{className:"modal fade right",id:"editProduct",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-success",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center"},r.a.createElement("h4",{className:"modal-title w-100 font-weight-bold"},"S\u1eeda D\u1eef Li\u1ec7u"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("form",{onSubmit:this.handleEdit},this.state.exist?r.a.createElement("div",{className:"alert alert-danger"}," D\u1eef li\u1ec7u \u0111\xe3 c\xf3 tr\xean h\u1ec7 th\u1ed1ng !"):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amazon Order ID"),r.a.createElement("input",{ref:this.amazonEdit,type:"text",className:"form-control",defaultValue:this.state.editAmz})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Aliexpress Order ID"),r.a.createElement("input",{ref:this.aliexpressEdit,type:"text",className:"form-control",defaultValue:this.state.editAli})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Amazon Account"),r.a.createElement("input",{ref:this.amazonAccountEdit,type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean kh\xe1ch h\xe0ng"),r.a.createElement("input",{ref:this.tenKHEdit,type:"text",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\u0110\u1ecba ch\u1ec9"),r.a.createElement("textarea",{ref:this.addressEdit,type:"text",className:"form-control"})),r.a.createElement("p",null,"(*) B\u1ecf tr\u1ed1ng c\u1ea3 2 tr\u01b0\u1eddng \u0111\u1ea7u \u0111\u1ec3 x\xf3a d\u1eef li\u1ec7u"),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-submit btn-danger mt-4"},r.a.createElement("i",{className:"fal fa-plus-circle fa-fw"})," Ho\xe0n t\u1ea5t"))))))),r.a.createElement("div",null),r.a.createElement(O.a,{columns:t,data:this.state.getTrackingList,striped:!0,highlightOnHover:!0,customTheme:{rows:{height:"64px",fontSize:".8rem"},title:{height:"0px"}}}))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).checkChange=function(){a.setState({changePass:!a.state.changePass})},a.getData=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(t=e.sent,!a.props.match.params.user||4!==a.state.getData.rights){e.next=7;break}return e.next=6,E(a.props.match.params.user);case 6:t=e.sent;case 7:a.setState({gotData:t});case 8:case"end":return e.stop()}},e)})),a.saved=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({done:!1}),e.next=4,fetch(b+"/api/update/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({real_name:a.real_name.current.value,old_pass:a.state.changePass?a.old_pass.current.value:null,new_pass:a.state.changePass&&a.new_pass.current.value,rights:a.state.getData.rights&&a.rights.current.value,username:a.state.getData.rights&&a.username.current.value,id:a.state.gotData.id})});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent.oke&&(""===a.username.current.value.trim()&&a.setState({delete:!0}),a.setState({done:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={getData:{},gotData:{},changePass:!1,done:!1,delete:!1},a.real_name=r.a.createRef(),a.username=r.a.createRef(),a.old_pass=r.a.createRef(),a.new_pass=r.a.createRef(),a.rights=r.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return z.dispatch({type:"profile"}),e.next=3,E();case 3:t=e.sent,this.setState({getData:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.delete?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",{className:"ml-4"},r.a.createElement("h2",{className:"my-4"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("form",{onSubmit:this.saved},this.state.done&&r.a.createElement("div",{className:"alert alert-success"},"Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng !"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean hi\u1ec3n th\u1ecb"),r.a.createElement("input",{ref:this.real_name,type:"text",className:"form-control",defaultValue:this.state.gotData.real_name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean \u0111\u0103ng nh\u1eadp"),r.a.createElement("input",{ref:this.username,type:"text",disabled:4!==this.state.getData.rights&&"disabled",className:"form-control",defaultValue:this.state.gotData.username})),this.state.getData.rights&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Ch\u1ee9c V\u1ee5"),r.a.createElement("select",{ref:this.rights,className:"form-control",defaultValue:this.state.gotData.rights},r.a.createElement("option",{value:"0"},"Nh\xe2n Vi\xean"),r.a.createElement("option",{value:"4"},"Qu\u1ea3n Tr\u1ecb Vi\xean"))),r.a.createElement("input",{onChange:this.checkChange,type:"checkbox",id:"changePass"})," ",r.a.createElement("label",{htmlFor:"changePass"},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),this.state.changePass&&r.a.createElement("div",null,!(this.state.gotData.rights&&this.state.gotData.username!==this.state.getData.username)&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"M\u1eadt kh\u1ea9u c\u0169"),r.a.createElement("input",{ref:this.old_pass,type:"password",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"M\u1eadt kh\u1ea9u m\u1edbi"),r.a.createElement("input",{ref:this.new_pass,type:"text",className:"form-control",required:!0}))),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-light"},r.a.createElement("i",{className:"fal fa-check-circle fa-fw"})," L\u01b0u l\u1ea1i")),4===this.state.getData.rights&&r.a.createElement("div",{className:"mt-2"},"(*) B\u1ecf tr\u1ed1ng t\xean \u0111\u0103ng nh\u1eadp n\u1ebfu mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n !")))))}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).getListUser=Object(o.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/count/user").then(function(e){return e.json()}).then(function(e){return e.result});case 2:return t=e.sent,e.next=5,fetch(b+"/api/fetch/user").then(function(e){return e.json()}).then(function(e){return e});case 5:n=e.sent,a.setState({totalUser:t,listUser:n});case 7:case"end":return e.stop()}},e)})),a.addNew=function(){var e=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(b+"/api/register/",{method:"POST",body:JSON.stringify({username:a.username.current.value,password:a.password.current.value,rights:a.rights.current.value,real_name:a.real_name.current.value}),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:e.sent.success?(z.dispatch({type:"updateTke"}),a.username.current.value="",a.password.current.value="",a.rights.current.value=0,a.real_name.current.value="",a.getListUser(),a.setState({exist:!1})):a.setState({exist:!0});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={totalUser:0,listUser:[],exist:!1,getData:{}},a.timeOnline=(new Date).getTime()-3e5,a.username=r.a.createRef(),a.password=r.a.createRef(),a.rights=r.a.createRef(),a.real_name=r.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.getListUser(),e.next=3,E();case 3:t=e.sent,this.setState({getData:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ml-4"},r.a.createElement("div",{className:"modal fade right",id:"addnew",tabIndex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-full-height modal-right modal-notify modal-success",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header text-center bg-primary"},r.a.createElement("h4",{className:"modal-title w-100 font-weight-bold"},"Th\xeam T\xe0i Kho\u1ea3n"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body mx-3"},r.a.createElement("form",{onSubmit:this.addNew},this.state.exist?r.a.createElement("div",{className:"alert alert-danger"}," T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 b\u1ecb tr\xf9ng !"):null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean \u0111\u0103ng nh\u1eadp (*)"),r.a.createElement("input",{ref:this.username,type:"text",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"M\u1eadt kh\u1ea9u (*)"),r.a.createElement("input",{ref:this.password,type:"text",className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"T\xean hi\u1ec3n th\u1ecb"),r.a.createElement("input",{ref:this.real_name,type:"text",className:"form-control",placeholder:"C\xf3 th\u1ec3 b\u1ecf tr\u1ed1ng"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Ch\u1ee9c V\u1ee5"),r.a.createElement("select",{ref:this.rights,className:"form-control"},r.a.createElement("option",{value:"0"},"Nh\xe2n Vi\xean"),r.a.createElement("option",{value:"4"},"Qu\u1ea3n Tr\u1ecb Vi\xean"))),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",name:"xoatruyen",className:"btn btn-submit btn-danger mt-4"},"T\u1ea1o t\xe0i kho\u1ea3n"))))))),r.a.createElement("h2",{className:"my-4"},"Dashboard"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},"Hi\u1ec7n c\xf3 ",r.a.createElement("b",{id:"totalUser"},this.state.totalUser)," nh\xe2n vi\xean.",r.a.createElement("div",{className:"my-4 row"},this.state.listUser.map(function(t,a){return r.a.createElement("div",{className:"flex",key:a},r.a.createElement("div",null,r.a.createElement("img",{alt:"img",className:"img-rounded w75",src:t.avatar})),r.a.createElement("div",{className:"fill avatar"},r.a.createElement("b",null,t.real_name),r.a.createElement("br",null)," ",r.a.createElement("span",{className:t.last_seen>e.timeOnline?"online":"offline"}),4===e.state.getData.rights&&r.a.createElement("div",null,r.a.createElement(y.b,{to:"/dashboard/profile/"+t.username},"Th\xf4ng tin"))))})),r.a.createElement("button",{className:"btn btn-light","data-target":"#addnew","data-toggle":"modal"},r.a.createElement("i",{className:"fal fa-plus-circle fa-fw"})," Th\xeam t\xe0i kho\u1ea3n")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("center",{className:"fadeIn animated"},r.a.createElement("img",{alt:"img",src:a(156),className:"img-rounded mb-3"}),r.a.createElement("br",null),r.a.createElement("h3",null,"Aliv Extension"),r.a.createElement("a",{className:"btn btn-primary mb-3",href:"/exs.zip"},r.a.createElement("i",{className:"fal fa-cloud-download fa-fw"})," T\u1ea3i Xu\u1ed1ng"),r.a.createElement("br",null),r.a.createElement("span",{id:"aliv_extension"},"C\u1ea7n Ph\u1ea3i C\xf3 \u0110\u1ec3 S\u1eed D\u1ee5ng")))))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).selectMenu=function(e){return function(){a.setState({now:e})}},a.thongKe=Object(o.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/thongke");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({user:n.user,tracking:n.tracking,product:n.product});case 7:case"end":return e.stop()}},e)})),a.state={isUser:!0,getData:{avatar:"https://img.icons8.com/color/2x/deadpool.png"},now:"dashboard",user:0,tracking:0,product:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return z.subscribe(Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(z.getState()),t.state.now!==z.getState().currentMenu&&t.setState({now:z.getState().currentMenu}),e.next=4,t.thongKe();case 4:case"end":return e.stop()}},e)}))),e.next=3,this.thongKe();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,e.next=5,E();case 5:a=e.sent,this.setState({getData:a,isUser:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.isUser?r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"main",ref:"test"},r.a.createElement("div",{className:"sideNav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",null,r.a.createElement("img",{alt:"img",className:"img-rounded w50",src:this.state.getData.avatar})),r.a.createElement("div",{className:"fill avatar"},r.a.createElement("small",null,"Hi, ",r.a.createElement("b",null,this.state.getData.real_name),r.a.createElement("br",null)," ",this.state.getData.rights?"Qu\u1ea3n tr\u1ecb vi\xean":"Nh\xe2n vi\xean")))),r.a.createElement(y.b,{to:"/dashboard/",onClick:this.selectMenu("dashboard")},r.a.createElement("li",{className:"dashboard"===this.state.now?"active":null},r.a.createElement("i",{className:"fal fa-user-chart fa-fw"})," Dashboard ",r.a.createElement("span",{className:"tke"},this.state.user))),r.a.createElement(y.b,{to:"/dashboard/profile",onClick:this.selectMenu("profile")},r.a.createElement("li",{className:"profile"===this.state.now?"active":null},r.a.createElement("i",{className:"fal fa-user fa-fw"})," Your profile")),r.a.createElement(y.b,{to:"/dashboard/tracking",onClick:this.selectMenu("tracking")},r.a.createElement("li",{className:"tracking"===this.state.now?"active":null},r.a.createElement("i",{className:"fal fa-shopping-basket fa-fw"})," Tracking ",r.a.createElement("span",{className:"tke"},this.state.tracking))),r.a.createElement(y.b,{to:"/dashboard/product",onClick:this.selectMenu("product")},r.a.createElement("li",{className:"product"===this.state.now?"active":null},r.a.createElement("i",{className:"fal fa-shopping-bag fa-fw"})," Product ",r.a.createElement("span",{className:"tke"},this.state.product))),r.a.createElement(y.b,{to:"/dashboard/analytics",onClick:this.selectMenu("analytics")},r.a.createElement("li",{className:"analytics"===this.state.now?"active":null},r.a.createElement("i",{className:"fal fa-chart-line fa-fw"})," Analytics")),r.a.createElement("a",{href:"//vivoo.vn",target:"_blank",rel:"noopener noreferer"},r.a.createElement("li",null,r.a.createElement("i",{className:"fab fa-vuejs fa-fw"})," Vivoo")),r.a.createElement("a",{href:"/logout"},r.a.createElement("li",null,r.a.createElement("i",{className:"fal fa-sign-out fa-fw"})," Logout")))),r.a.createElement("div",{className:"content"},r.a.createElement(v.b,{exact:!0,path:"/dashboard/",component:G}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/tracking",component:R}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/product",component:L}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/analytics",component:M}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/autopost",component:P}),r.a.createElement(v.b,{exact:!0,component:U,path:"/dashboard/profile/:user?"}))))):r.a.createElement(v.a,{to:"/"}))}}]),t}(r.a.Component),Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={logout:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!e.sent.oke){e.next=9;break}return e.next=9,this.setState({logout:!0});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,this.state.logout?r.a.createElement(v.a,{exact:!0,to:"/"}):r.a.createElement("div",null,"\u0110ang \u0111\u0103ng xu\u1ea5t..."))}}]),t}(r.a.Component),Z=function(){return r.a.createElement(y.a,null,r.a.createElement(v.b,{exact:!0,path:"/",component:N}),r.a.createElement(v.b,{exact:!0,path:"/logout",component:Q}),r.a.createElement(v.b,{path:"/dashboard",component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},78:function(e,t,a){e.exports=a(157)},83:function(e,t,a){},85:function(e,t,a){},90:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.5fc002a7.chunk.js.map